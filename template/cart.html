<!DOCTYPE html>
{% load static %}
{% load cart %}
{% load custom_filter %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cart Page</title>
     <link href="{%  static  'css/base1.css'  %}" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">


    <style>
    body {
        background-color: rgb(253, 181, 181);
    }

    .as {
        text-decoration: none;
        display: inline-block;
        margin-left: 43%;

    }

    .as ,a:hover {
        background-color: #ddd;
        color: black;
    }

    .previous {
        font-size:23px;
        background-color: #FF4500;
        color: white;
    }

    .round {
        border-radius: 50%;
    </style>

</head>
<body>
    <div class="container" style="background-color: rgb(218, 235, 187);font-size: 22px; font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif">
<div class="border rounded p-4 m-4">
    <p class="display-4 pl-4 ml-4">Your Cart</p>
    <hr>

    <table class="table">
        <thead>
            <tr>
                <th>S.No</th>
                <th>Image</th>
                <th>Product</th>
                <th>Price</th>
                <th>Quantity</th>
                <th>Total</th>
            </tr>
        </thead>
        <tbody>
            {% for product in products %}
            <tr>
                <td class='personid'>i</td>
                <td><img style="height: 100px" class="rounded-circle" src="{{product.image.url}}" alt="product"></td>
                <td>{{product.name}}</td>
                <td>{{product.price|currency}}</td>
                <td>{{product|cart_quantity:request.session.cart}}</td>
                <td>{{product|price_total:request.session.cart|currency}}</td>
            </tr>
            {% endfor %}

            {% for usedbook in usedbooks %}

            <tr>
                <td class='personid'>i</td>
                <td><img style="height: 100px" class="rounded-circle" src="{{usedbook.image.url}}" alt="product"></td>
                <td>{{usedbook.name}}</td>
                <td>{{usedbook.price|currency}}</td>
                <td>{{usedbook|cart_quantity:request.session.cart}}</td>
                <td>{{usedbook|ubook_price_total:request.session.cart|currency}}</td>

            </tr>
            {% endfor %}

            {% for newbook in newbooks %}

            <tr>
                <td class='personid'>i</td>
                <td><img style="height: 100px" class="rounded-circle" src="{{newbook.image.url}}" alt="product"></td>
                <td>{{newbook.name}}</td>
                <td>{{newbook.price|currency}}</td>
                <td>{{newbook|cart_quantity:request.session.cart}}</td>
                <td>{{newbook|newbook_price_total:request.session.cart|currency}}</td>

            </tr>
            {% endfor %}

        </tbody>
        <tfoot>
            <tr>
                <th colspan="4"></th>
                <th colspan="">Total</th>
                <th>{{books|total_cart_price:request.session.cart|currency}}</th>
            </tr>
        </tfoot>
    </table>
    <hr>
    <div>
        <a href="{% url 'checkout' %}"  class="btn btn-info border rounded col-lg-3 " style="float:right; font-size: 20px;">Check Out</a>

    </div>
    <br>

</div>

</div>

<div class="as">
 <a href="{% url 'Home' %}" class="previous">&laquo; Previous</a>
</div>

<script>

    var list = document.getElementsByClassName("personid");
    for (var i = 0; i <= list.length; i++) {
        list[i].innerHTML = i+1;
}
</script>

</body>
</html>

